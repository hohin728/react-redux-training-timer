{"version":3,"sources":["services/timerService.js","components/TimeInputField.jsx","features/timers/TimerStatus.js","features/timers/timersSlice.js","services/localStorage.js","features/timers/Timer.jsx","features/timers/TimerList.jsx","features/timers/TimerCountdown.jsx","hooks/useInterval.js","audio/timesup.mp3","features/timers/TimerMain.jsx","features/settings/settingsSlice.js","components/ControlPanel.jsx","features/settings/Settings.jsx","audio/Muay_Thai_Sarama_ROUND_1.mp3","components/MusicPlayer.jsx","components/TimerApp.jsx","App.js","serviceWorkerRegistration.js","reportWebVitals.js","store.js","index.js"],"names":["calcTimerRemainTime","params","minute","second","isInteger","createTimer","timer","id","timerId","uuidv4","label","remainTime","music","isValidTimeInput","value","timeUnit","Number","parseInt","getInvalidTimeInputMessage","useStyles","makeStyles","timerInput","minWidth","TimeInputField","handleChange","styles","classes","TextField","style","type","InputLabelProps","shrink","variant","inputProps","min","max","inputMode","className","onChange","e","event","error","TimerStatus","RUNNING","PAUSED","STOPPED","timersAdapter","createEntityAdapter","timersSlice","createSlice","name","initialState","loadedState","savedStateJson","localStorage","getItem","savedState","JSON","parse","savedTotalLoop","totalLoop","savedTimers","entities","Object","values","forEach","ids","err","loadTimersState","state","showCountdown","delay","activeTimerId","activeTimerMusic","status","loop","current","total","mute","alarm","newTimer","getInitialState","reducers","timersInitialized","addMany","timerAdded","addOne","timerDeleted","removeOne","timerSetLabel","action","payload","timerSetTime","reducer","prepare","timerSetMusic","timerDeductTime","timerStatusUpdated","timerSetNextTimer","timers","entries","index","length","timerDelayUpdated","timerResetTimers","timerResetRemainTime","timerSetShowCountdown","timerSetCurrentLoop","timerSetTotalLoop","console","log","timerToggledMute","muteType","actions","getSelectors","selectTimers","selectAll","selectTimerById","selectById","selectTotal","selectShowCountdown","selectTimerDelay","selectActiveTimerId","selectTimerStatus","selectLastTimerId","createSelector","selectTimerLoopCurrentCount","selectTimerLoopTotalCount","selectTimerIsMuted","selectActiveTimerMusic","theme","musicInput","timerContainer","borderRadius","padding","breakpoints","up","spacing","timerToolbar","justifyContent","deleteButton","opacity","position","top","right","transition","zIndex","Timer","dispatch","useDispatch","useSelector","handleTimeChange","target","Paper","IconButton","onClick","size","fontSize","Box","m","display","handleLabelChange","textAlign","alignItems","FormControl","InputLabel","Select","labelId","MenuItem","TimerList","map","digits","margin","millisecond","bottom","mainDisplay","width","TimerCountdown","convertMillisec","alarmPlayer","timerStatus","lastTimerId","loopCurrent","loopTotal","timePerUnit","millisec","Math","floor","showTimerDigits","digit","callback","savedCallback","useRef","useEffect","setInterval","clearInterval","useInterval","play","height","flexDirection","Typography","component","marginTop","marginBottom","mainSection","overflowY","TimerMain","heightOfMainSection","Container","maxWidth","src","timesUpSfx","playing","html5","ref","settingsSlice","loadSettingsState","systemPrefersDark","window","matchMedia","matches","darkMode","defaultTime","toggleDarkMode","setDefaultTime","selectIsDarkMode","settings","selectDefaultMinute","selectDefaultSecond","formControl","controlPanelContainer","addButton","toolbar","ControlPanel","setHeightOfControlPanel","handleModalStatus","isMuted","defaultMinute","defaultSecond","document","getElementById","clientHeight","elevation","disabled","color","Button","isNaN","Settings","open","handleOpen","isDarkMode","Dialog","onClose","fullWidth","DialogTitle","marginLeft","DialogContent","paddingBottom","Grid","container","item","xs","handleDelayChange","FormControlLabel","control","Switch","checked","marginRight","MusicPlayer","musicPlayer","seek","muayThaiBgMusic","app","overflow","appBar","left","boxSizing","TimerApp","useState","heightOfControlPanel","setHeightOfMainSection","modalIsOpen","openModal","setHeight","innerHeight","useCallback","addEventListener","removeEventListener","App","React","useMemo","createMuiTheme","palette","primary","main","blue","ThemeProvider","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","timersReducer","settingsReducer","subscribe","throttle","timersState","settingsState","newEntities","cloneDeep","entity","saveState","setItem","stringify","getState","ReactDOM","render","StrictMode","URL","process","href","origin","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.82c66343.chunk.js","sourcesContent":["import { isInteger } from \"lodash\"\r\nimport { v4 as uuidv4 } from \"uuid\"\r\n\r\n// default time when user's preference is not found\r\nexport const defaultMinuteIfNotSaved = 1\r\nexport const defaultSecondIfNotSaved = 30\r\n\r\nexport const calcTimerRemainTime = (params) => {\r\n\tconst { minute, second } = params\r\n\r\n\tif (isInteger(minute) && isInteger(second)) {\r\n\t\treturn (minute * 60 + second) * 1000\r\n\t}\r\n\treturn 0\r\n}\r\n\r\nexport const createTimer = (params) => {\r\n\tconst id = params && params.timerId ? params.timerId : uuidv4()\r\n\tconst timer = {\r\n\t\tid: id,\r\n\t\tlabel: params && params.label ? params.label : \"timer label\",\r\n\t\tminute:\r\n\t\t\tparams && params.minute !== null\r\n\t\t\t\t? params.minute\r\n\t\t\t\t: defaultMinuteIfNotSaved,\r\n\t\tsecond:\r\n\t\t\tparams && params.second !== null\r\n\t\t\t\t? params.second\r\n\t\t\t\t: defaultSecondIfNotSaved,\r\n\t\tremainTime: 0,\r\n\t\tmusic:\r\n\t\t\tparams && params.music ? params.music : \"Muay_Thai_Sarama_ROUND_1.mp3\",\r\n\t}\r\n\ttimer.remainTime = calcTimerRemainTime({\r\n\t\tminute: timer.minute,\r\n\t\tsecond: timer.second,\r\n\t})\r\n\r\n\treturn timer\r\n}\r\n\r\nexport const convertTimeFormatForDisplay = (convertMillisec) => {\r\n\tif (!isInteger(convertMillisec) || convertMillisec <= 0) {\r\n\t\treturn {\r\n\t\t\tmillisec: 0,\r\n\t\t\tsecond: 0,\r\n\t\t\tminute: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst millisec = (convertMillisec % 1000) / 10\r\n\tconst second = Math.floor(convertMillisec / 1000) % 60\r\n\tconst minute = Math.floor(convertMillisec / 1000 / 60) % 60\r\n\r\n\treturn {\r\n\t\tmillisec,\r\n\t\tsecond,\r\n\t\tminute,\r\n\t}\r\n}\r\n\r\nexport const getInvalidTimeInputMessage = ({ value, timeUnit }) => {\r\n\tif (timeUnit !== \"minute\" && timeUnit !== \"second\") {\r\n\t\t// console.log(\"Time unit must be either 'minute' or 'second'\")\r\n\t\treturn \"Time unit must be either 'minute' or 'second'\"\r\n\t}\r\n\tif (!Number.isInteger(parseInt(value))) {\r\n\t\t// console.log(\"Time value must be an integer\")\r\n\t\treturn \"Time value must be an integer\"\r\n\t}\r\n\tif (parseInt(value) < 0 || parseInt(value) > 59) {\r\n\t\t// console.log(\"Time value must be between 0 and 59\")\r\n\t\treturn \"Time value must be between 0 and 59\"\r\n\t}\r\n\treturn \"\"\r\n}\r\n\r\nexport const isValidTimeInput = ({ value, timeUnit }) => {\r\n\treturn getInvalidTimeInputMessage({ value, timeUnit }) === \"\"\r\n}\r\n","import React from \"react\"\r\nimport { isValidTimeInput } from \"../services/timerService\"\r\n\r\nimport { TextField, makeStyles } from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles({\r\n\ttimerInput: {\r\n\t\tminWidth: 60,\r\n\t},\r\n})\r\n\r\nconst TimeInputField = ({\r\n\tid, // string\r\n\tlabel, // string\r\n\thandleChange, // function\r\n\tvalue, // timer.second or timer.minute\r\n\ttimeUnit, // \"second\" || \"minute\"\r\n\tstyles, // style objects\r\n}) => {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tid={id}\r\n\t\t\tlabel={label}\r\n\t\t\tstyle={styles}\r\n\t\t\ttype=\"number\"\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tshrink: true,\r\n\t\t\t}}\r\n\t\t\tvariant=\"outlined\"\r\n\t\t\tinputProps={{\r\n\t\t\t\tmin: 0,\r\n\t\t\t\tmax: 59,\r\n\t\t\t\tinputMode: \"numeric\",\r\n\t\t\t\tclassName: classes.timerInput,\r\n\t\t\t}}\r\n\t\t\tonChange={(e) => handleChange({ event: e, timeUnit })}\r\n\t\t\tvalue={value}\r\n\t\t\terror={\r\n\t\t\t\t!isValidTimeInput({\r\n\t\t\t\t\tvalue,\r\n\t\t\t\t\ttimeUnit,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default TimeInputField\r\n","const TimerStatus = {\r\n\tRUNNING: \"RUNNING\",\r\n\tPAUSED: \"PAUSED\",\r\n\tSTOPPED: \"STOPPED\",\r\n}\r\n\r\nexport default TimerStatus\r\n","import {\r\n\tcreateEntityAdapter,\r\n\tcreateSelector,\r\n\tcreateSlice,\r\n} from \"@reduxjs/toolkit\"\r\nimport {\r\n\tcreateTimer,\r\n\tcalcTimerRemainTime,\r\n\tisValidTimeInput,\r\n} from \"../../services/timerService\"\r\nimport TimerStatus from \"./TimerStatus\"\r\nimport { isInteger } from \"lodash\"\r\nimport { loadTimersState } from \"../../services/localStorage\"\r\n\r\nconst timersAdapter = createEntityAdapter()\r\n\r\nconst getInitialState = () => {\r\n\tconst loadedState = loadTimersState()\r\n\r\n\tlet state = {\r\n\t\tshowCountdown: false,\r\n\t\tdelay: 1000,\r\n\t\tactiveTimerId: null,\r\n\t\tactiveTimerMusic: \"\",\r\n\t\tstatus: TimerStatus.STOPPED,\r\n\t\tloop: {\r\n\t\t\tcurrent: 1,\r\n\t\t\ttotal: 1,\r\n\t\t},\r\n\t\tmute: {\r\n\t\t\talarm: false,\r\n\t\t\tmusic: false,\r\n\t\t},\r\n\t\tids: [],\r\n\t\tentities: {},\r\n\t}\r\n\r\n\tif (\r\n\t\tloadedState &&\r\n\t\tloadedState.entities &&\r\n\t\tloadedState.ids &&\r\n\t\tloadedState.totalLoop\r\n\t) {\r\n\t\t// read timers from local storage\r\n\t\tstate = {\r\n\t\t\t...state,\r\n\t\t\tentities: loadedState.entities,\r\n\t\t\tids: loadedState.ids,\r\n\t\t\tloop: {\r\n\t\t\t\t...state.loop,\r\n\t\t\t\ttotal: loadedState.totalLoop,\r\n\t\t\t},\r\n\t\t}\r\n\t} else {\r\n\t\t// create a new timer\r\n\t\tconst newTimer = createTimer()\r\n\r\n\t\tstate = {\r\n\t\t\t...state,\r\n\t\t\tids: [...state.ids, newTimer.id],\r\n\t\t\tentities: {\r\n\t\t\t\t...state.entities,\r\n\t\t\t\t[newTimer.id]: newTimer,\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\r\n\treturn timersAdapter.getInitialState(state)\r\n}\r\n\r\n/**\r\n * {\r\n *  id: string,\r\n * \tlabel: string,\r\n * \tminute: number,\r\n * \tsecond: number,\r\n *  remainTime: number,\r\n * \tmusic: string,\r\n * }\r\n */\r\n\r\nconst timersSlice = createSlice({\r\n\tname: \"timers\",\r\n\tinitialState: getInitialState(),\r\n\treducers: {\r\n\t\ttimersInitialized: timersAdapter.addMany,\r\n\t\ttimerAdded: timersAdapter.addOne,\r\n\t\ttimerDeleted: timersAdapter.removeOne,\r\n\t\ttimerSetLabel(state, action) {\r\n\t\t\tconst { timerId, label } = action.payload\r\n\t\t\tconst timer = state.entities[timerId]\r\n\r\n\t\t\ttimer.label = label\r\n\t\t},\r\n\t\ttimerSetTime: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { timerId, value, timeUnit } = action.payload\r\n\t\t\t\tconst timer = state.entities[timerId]\r\n\r\n\t\t\t\tif (timeUnit === \"minute\" || timeUnit === \"second\") {\r\n\t\t\t\t\ttimer[timeUnit] = Number.isInteger(parseInt(value))\r\n\t\t\t\t\t\t? parseInt(value)\r\n\t\t\t\t\t\t: \"\"\r\n\r\n\t\t\t\t\ttimer.remainTime = isValidTimeInput({ value, timeUnit })\r\n\t\t\t\t\t\t? (timer.minute * 60 + timer.second) * 1000\r\n\t\t\t\t\t\t: 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tprepare(timerId, value, timeUnit) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tpayload: { timerId, value, timeUnit },\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\ttimerSetMusic(state, action) {\r\n\t\t\tconst { timerId, music } = action.payload\r\n\t\t\tconst timer = state.entities[timerId]\r\n\r\n\t\t\ttimer.music = music\r\n\t\t},\r\n\t\ttimerDeductTime: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { timerId, delay } = action.payload\r\n\t\t\t\tconst timer = state.entities[timerId]\r\n\r\n\t\t\t\ttimer.remainTime -= delay\r\n\t\t\t},\r\n\t\t\tprepare({ timerId, delay }) {\r\n\t\t\t\tif (!delay) {\r\n\t\t\t\t\tdelay = 1000\r\n\t\t\t\t}\r\n\t\t\t\treturn { payload: { timerId, delay } }\r\n\t\t\t},\r\n\t\t},\r\n\t\ttimerStatusUpdated(state, action) {\r\n\t\t\tconst { status } = action.payload\r\n\t\t\tstate.status = status\r\n\t\t},\r\n\t\ttimerSetNextTimer(state) {\r\n\t\t\tconst timers = Object.values(state.entities)\r\n\t\t\tfor (const [index, timer] of timers.entries()) {\r\n\t\t\t\tif (timer.remainTime > 0) {\r\n\t\t\t\t\tstate.activeTimerId = timer.id\r\n\t\t\t\t\tstate.activeTimerMusic = timer.music\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// reset if the last timer is over\r\n\t\t\t\tif (index === timers.length - 1) {\r\n\t\t\t\t\tstate.status = TimerStatus.STOPPED\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttimerDelayUpdated(state, action) {\r\n\t\t\tconst { delay } = action.payload\r\n\t\t\tstate.delay = delay\r\n\t\t},\r\n\t\ttimerResetTimers(state) {\r\n\t\t\tstate.activeTimerId = null\r\n\t\t\tstate.activeTimerMusic = \"\"\r\n\t\t\tstate.status = TimerStatus.STOPPED\r\n\t\t\tObject.values(state.entities).forEach((timer) => {\r\n\t\t\t\ttimer.remainTime = calcTimerRemainTime({\r\n\t\t\t\t\tminute: timer.minute,\r\n\t\t\t\t\tsecond: timer.second,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tstate.loop.current = 1\r\n\t\t},\r\n\t\ttimerResetRemainTime(state) {\r\n\t\t\tObject.values(state.entities).forEach((timer) => {\r\n\t\t\t\ttimer.remainTime = calcTimerRemainTime({\r\n\t\t\t\t\tminute: timer.minute,\r\n\t\t\t\t\tsecond: timer.second,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\ttimerSetShowCountdown(state, action) {\r\n\t\t\tconst { showCountdown } = action.payload\r\n\t\t\tstate.showCountdown = showCountdown\r\n\t\t},\r\n\t\ttimerSetCurrentLoop(state, action) {\r\n\t\t\tconst current = action.payload\r\n\r\n\t\t\tif (current && isInteger(current)) {\r\n\t\t\t\tstate.loop.current = current\r\n\t\t\t}\r\n\t\t},\r\n\t\ttimerSetTotalLoop(state, action) {\r\n\t\t\tconst total = action.payload\r\n\r\n\t\t\tif (total || total === \"\") {\r\n\t\t\t\tconsole.log(Number.isInteger(parseInt(total)))\r\n\r\n\t\t\t\tstate.loop.total = Number.isInteger(parseInt(total))\r\n\t\t\t\t\t? parseInt(total)\r\n\t\t\t\t\t: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\ttimerToggledMute(state, action) {\r\n\t\t\tconst { muteType } = action.payload\r\n\r\n\t\t\tif (muteType === \"alarm\") {\r\n\t\t\t\tstate.mute.alarm = !state.mute.alarm\r\n\t\t\t}\r\n\t\t\tif (muteType === \"music\") {\r\n\t\t\t\tstate.mute.music = !state.mute.music\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport default timersSlice.reducer\r\n\r\nexport const {\r\n\ttimersInitialized,\r\n\ttimerAdded,\r\n\ttimerDeleted,\r\n\ttimerSetLabel,\r\n\ttimerSetTime,\r\n\ttimerSetMusic,\r\n\ttimerDeductTime,\r\n\ttimerStatusUpdated,\r\n\ttimerSetNextTimer,\r\n\ttimerDelayUpdated,\r\n\ttimerResetTimers,\r\n\ttimerResetRemainTime,\r\n\ttimerSetShowCountdown,\r\n\ttimerSetCurrentLoop,\r\n\ttimerSetTotalLoop,\r\n\ttimerToggledMute,\r\n} = timersSlice.actions\r\n\r\nexport const {\r\n\tselectAll: selectTimers,\r\n\tselectById: selectTimerById,\r\n\tselectTotal,\r\n} = timersAdapter.getSelectors((state) => state.timers)\r\n\r\nexport const selectShowCountdown = (state) => state.timers.showCountdown\r\n\r\nexport const selectTimerDelay = (state) => state.timers.delay\r\n\r\nexport const selectActiveTimerId = (state) => state.timers.activeTimerId\r\n\r\nexport const selectTimerStatus = (state) => state.timers.status\r\n\r\nexport const selectLastTimerId = createSelector(\r\n\tselectTimers,\r\n\tselectTotal,\r\n\t(timers, total) => {\r\n\t\tconst lastTimer = Object.values(timers)[total - 1]\r\n\t\treturn lastTimer.id\r\n\t}\r\n)\r\n\r\nexport const selectTimerLoopCurrentCount = (state) => state.timers.loop.current\r\n\r\nexport const selectTimerLoopTotalCount = (state) => state.timers.loop.total\r\n\r\nexport const selectTimerIsMuted = (state) => state.timers.mute.music\r\n\r\nexport const selectActiveTimerMusic = (state) => state.timers.activeTimerMusic\r\n","import { calcTimerRemainTime } from \"./timerService\"\r\nimport { cloneDeep } from \"lodash\"\r\n\r\nexport const loadTimersState = () => {\r\n\ttry {\r\n\t\tconst savedStateJson = localStorage.getItem(\"timers\")\r\n\r\n\t\tif (savedStateJson === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\r\n\t\tconst savedState = JSON.parse(savedStateJson)\r\n\t\tconst savedTotalLoop =\r\n\t\t\tsavedState.totalLoop !== \"\" ? savedState.totalLoop : 1\r\n\r\n\t\tconst savedTimers = savedState.entities\r\n\r\n\t\t// calculate remain time\r\n\t\tObject.values(savedTimers).forEach((timer) => {\r\n\t\t\ttimer.remainTime = calcTimerRemainTime({\r\n\t\t\t\tminute: timer.minute,\r\n\t\t\t\tsecond: timer.second,\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tids: savedState.ids,\r\n\t\t\tentities: savedTimers,\r\n\t\t\ttotalLoop: savedTotalLoop,\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport const loadSettingsState = () => {\r\n\ttry {\r\n\t\tconst savedStateJson = localStorage.getItem(\"settings\")\r\n\r\n\t\tif (savedStateJson === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\r\n\t\tconst savedState = JSON.parse(savedStateJson)\r\n\r\n\t\treturn savedState\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport const saveState = ({ timers: timersState, settings: settingsState }) => {\r\n\ttry {\r\n\t\tconst totalLoop = timersState.loop.total ?? 1\r\n\t\tconst ids = timersState.ids\r\n\t\tconst newEntities = cloneDeep(timersState.entities)\r\n\r\n\t\tObject.values(newEntities).forEach((entity) => {\r\n\t\t\tif (entity.remainTime) {\r\n\t\t\t\tdelete entity.remainTime\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tconst saveState = {\r\n\t\t\tids,\r\n\t\t\tentities: newEntities,\r\n\t\t\ttotalLoop,\r\n\t\t}\r\n\r\n\t\tlocalStorage.setItem(\"timers\", JSON.stringify(saveState))\r\n\r\n\t\tlocalStorage.setItem(\"settings\", JSON.stringify(settingsState))\r\n\t} catch {\r\n\t\t// ignore write errors\r\n\t}\r\n}\r\n","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport TimeInputField from \"../../components/TimeInputField\"\r\nimport {\r\n\tselectTimerById,\r\n\ttimerSetTime,\r\n\ttimerSetLabel,\r\n\ttimerSetMusic,\r\n\ttimerDeleted,\r\n} from \"./timersSlice\"\r\nimport {\r\n\tBox,\r\n\tPaper,\r\n\tFormControl,\r\n\tInputLabel,\r\n\tmakeStyles,\r\n\tMenuItem,\r\n\tSelect,\r\n\tTextField,\r\n\tIconButton,\r\n} from \"@material-ui/core\"\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tmusicInput: {\r\n\t\tminWidth: 200,\r\n\t},\r\n\ttimerContainer: {\r\n\t\tborderRadius: 30,\r\n\t\tpadding: \"10px 20px\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tpadding: \"20px 40px\",\r\n\t\t},\r\n\t\tmarginTop: theme.spacing(2),\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t},\r\n\ttimerToolbar: {\r\n\t\tjustifyContent: \"center\",\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tjustifyContent: \"flex-start\",\r\n\t\t},\r\n\t},\r\n\tdeleteButton: {\r\n\t\topacity: 0.2,\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 15,\r\n\t\tright: 20,\r\n\t\ttransition: \"opacity 0.5s ease\",\r\n\t\tzIndex: 2,\r\n\t\t\"&:hover\": {\r\n\t\t\topacity: 1,\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nconst Timer = ({ id }) => {\r\n\tconst dispatch = useDispatch()\r\n\tconst classes = useStyles()\r\n\tconst timer = useSelector((state) => selectTimerById(state, id))\r\n\r\n\tconst handleTimeChange = (params) => {\r\n\t\tconst {\r\n\t\t\tevent: {\r\n\t\t\t\ttarget: { value },\r\n\t\t\t},\r\n\t\t\ttimeUnit,\r\n\t\t} = params\r\n\r\n\t\tdispatch(timerSetTime(timer.id, value, timeUnit))\r\n\t}\r\n\r\n\tconst handleLabelChange = (e) =>\r\n\t\tdispatch(timerSetLabel({ timerId: timer.id, label: e.target.value }))\r\n\r\n\tconst handleMusicChange = (e) =>\r\n\t\tdispatch(timerSetMusic({ timerId: timer.id, music: e.target.value }))\r\n\r\n\tconst handleDeleteTimer = () => dispatch(timerDeleted(timer.id))\r\n\r\n\treturn (\r\n\t\t<Paper\r\n\t\t\tvariant=\"outlined\"\r\n\t\t\tclassName={classes.timerContainer}\r\n\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleDeleteTimer}\r\n\t\t\t\tclassName={classes.deleteButton}\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t>\r\n\t\t\t\t<HighlightOffIcon fontSize=\"small\" />\r\n\t\t\t</IconButton>\r\n\r\n\t\t\t<Box m={1} display=\"flex\" justifyContent=\"center\">\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tvalue={timer.label ?? \"\"}\r\n\t\t\t\t\tonChange={(e) => handleLabelChange(e)}\r\n\t\t\t\t\tinputProps={{ style: { textAlign: \"center\" } }}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<TimeInputField\r\n\t\t\t\t\t\tid={`timer-${id}-min`}\r\n\t\t\t\t\t\tlabel=\"Minute\"\r\n\t\t\t\t\t\thandleChange={handleTimeChange}\r\n\t\t\t\t\t\tvalue={timer.minute}\r\n\t\t\t\t\t\ttimeUnit=\"minute\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box m={1}>:</Box>\r\n\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<TimeInputField\r\n\t\t\t\t\t\tid={`timer-${id}-sec`}\r\n\t\t\t\t\t\tlabel=\"Second\"\r\n\t\t\t\t\t\thandleChange={handleTimeChange}\r\n\t\t\t\t\t\tvalue={timer.second}\r\n\t\t\t\t\t\ttimeUnit=\"second\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box display=\"flex\" className={classes.timerToolbar}>\r\n\t\t\t\t<FormControl>\r\n\t\t\t\t\t<InputLabel id={`timer-music-${timer.id}-label`}>\r\n\t\t\t\t\t\tTimer Music\r\n\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tlabelId={`timer-music-${timer.id}-label`}\r\n\t\t\t\t\t\tid={`timer-music-${timer.id}`}\r\n\t\t\t\t\t\tvalue={timer.music ?? \"\"}\r\n\t\t\t\t\t\tonChange={handleMusicChange}\r\n\t\t\t\t\t\tclassName={classes.musicInput}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuItem value=\"\">No Music</MenuItem>\r\n\t\t\t\t\t\t<MenuItem value=\"Muay_Thai_Sarama_ROUND_1.mp3\">\r\n\t\t\t\t\t\t\tMuay Thai Music\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default Timer\r\n","import React from \"react\"\r\nimport Timer from \"./Timer\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { selectTimers } from \"./timersSlice\"\r\n\r\nconst TimerList = () => {\r\n\tconst timers = useSelector((state) => selectTimers(state))\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t{timers.map((timer) => (\r\n\t\t\t\t<Timer id={timer.id} key={timer.id} />\r\n\t\t\t))}\r\n\t\t</main>\r\n\t)\r\n}\r\n\r\nexport default TimerList\r\n","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport {\r\n\tselectTimerById,\r\n\tselectActiveTimerId,\r\n\tselectTimerDelay,\r\n\ttimerDeductTime,\r\n\ttimerSetNextTimer,\r\n\tselectTimerStatus,\r\n\tselectLastTimerId,\r\n\ttimerStatusUpdated,\r\n\tselectTimerLoopCurrentCount,\r\n\tselectTimerLoopTotalCount,\r\n\ttimerSetCurrentLoop,\r\n\ttimerResetRemainTime,\r\n} from \"./timersSlice\"\r\nimport useInterval from \"../../hooks/useInterval\"\r\nimport TimerStatus from \"./TimerStatus\"\r\nimport { convertTimeFormatForDisplay } from \"../../services/timerService\"\r\n\r\nimport { Box, Typography, makeStyles } from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles({\r\n\tdigits: {\r\n\t\tmargin: 10,\r\n\t},\r\n\tmillisecond: {\r\n\t\tposition: \"absolute\",\r\n\t\tbottom: 5,\r\n\t\tright: -40,\r\n\t},\r\n\tmainDisplay: {\r\n\t\tposition: \"relative\",\r\n\t\twidth: \"fit-content\",\r\n\t\tmargin: \"0 auto\",\r\n\t},\r\n})\r\n\r\nconst TimerCountdown = ({ alarmPlayer }) => {\r\n\tconst dispatch = useDispatch()\r\n\tconst classes = useStyles()\r\n\r\n\tconst activeTimerId = useSelector(selectActiveTimerId)\r\n\tconst timer = useSelector((state) => selectTimerById(state, activeTimerId))\r\n\tconst delay = useSelector((state) => selectTimerDelay(state))\r\n\tconst timerStatus = useSelector(selectTimerStatus)\r\n\tconst lastTimerId = useSelector(selectLastTimerId)\r\n\tconst loopCurrent = useSelector(selectTimerLoopCurrentCount)\r\n\tconst loopTotal = useSelector(selectTimerLoopTotalCount)\r\n\r\n\tconst timePerUnit = convertTimeFormatForDisplay(timer.remainTime)\r\n\r\n\tconst showTimerDigits = (digit) => (digit < 10 ? \"0\" + digit : digit)\r\n\r\n\tuseInterval(\r\n\t\t() => {\r\n\t\t\tdispatch(timerDeductTime({ timerId: timer.id, delay }))\r\n\r\n\t\t\tif (timer.remainTime - delay <= 0) {\r\n\t\t\t\talarmPlayer.current.play()\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * if it's the last timer, check if the loop count reaches total\r\n\t\t\t\t * if yes, update the status to be stopped\r\n\t\t\t\t * else dispatch count++ and set next timer\r\n\t\t\t\t */\r\n\r\n\t\t\t\tif (activeTimerId === lastTimerId) {\r\n\t\t\t\t\t// if loop count has reached the end\r\n\t\t\t\t\tif (loopCurrent < loopTotal) {\r\n\t\t\t\t\t\tdispatch(timerSetCurrentLoop({ current: loopCurrent + 1 }))\r\n\t\t\t\t\t\t// reset remain time of every timer\r\n\t\t\t\t\t\tdispatch(timerResetRemainTime())\r\n\t\t\t\t\t\tdispatch(timerSetNextTimer())\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatch(timerStatusUpdated({ status: TimerStatus.STOPPED }))\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(timerSetNextTimer())\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttimerStatus === TimerStatus.RUNNING &&\r\n\t\t\tactiveTimerId &&\r\n\t\t\ttimer.id === activeTimerId\r\n\t\t\t? delay\r\n\t\t\t: null\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box textAlign=\"center\" height=\"100%\" display=\"flex\" flexDirection=\"column\">\r\n\t\t\t<Typography variant=\"h4\" component=\"div\" style={{ marginTop: 10 }}>\r\n\t\t\t\tRound: {loopCurrent} / {loopTotal}\r\n\t\t\t</Typography>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\tflexDirection=\"column\"\r\n\t\t\t\theight=\"100%\"\r\n\t\t\t>\r\n\t\t\t\t<Typography variant=\"h4\" component=\"div\" style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t{timer.label}\r\n\t\t\t\t</Typography>\r\n\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\tjustifyContent=\"center\"\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tclassName={classes.mainDisplay}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\tclassName={`${classes.digits}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showTimerDigits(timePerUnit.minute)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"h3\">:</Typography>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"h2\"\r\n\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\tclassName={`${classes.digits}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{showTimerDigits(timePerUnit.second)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{delay < 1000 && (\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\t\tclassName={`${classes.millisecond} ${classes.digits}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{showTimerDigits(timePerUnit.millisec)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default TimerCountdown\r\n","import { useEffect, useRef } from \"react\"\r\n\r\nexport default function useInterval(callback, delay) {\r\n\tconst savedCallback = useRef()\r\n\r\n\t// Remember the latest callback.\r\n\tuseEffect(() => {\r\n\t\tsavedCallback.current = callback\r\n\t}, [callback])\r\n\r\n\t// Set up the interval.\r\n\tuseEffect(() => {\r\n\t\tfunction tick() {\r\n\t\t\tsavedCallback.current()\r\n\t\t}\r\n\t\tif (delay !== null) {\r\n\t\t\tlet id = setInterval(tick, delay)\r\n\t\t\treturn () => clearInterval(id)\r\n\t\t}\r\n\t}, [delay])\r\n}\r\n","export default __webpack_public_path__ + \"static/media/timesup.e69d4f91.mp3\";","import React, { useRef } from \"react\"\r\nimport TimerList from \"./TimerList\"\r\nimport TimerCountdown from \"./TimerCountdown\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { selectShowCountdown, selectTimerStatus } from \"./timersSlice\"\r\nimport TimerStatus from \"./TimerStatus\"\r\nimport timesUpSfx from \"../../audio/timesup.mp3\"\r\nimport ReactHowler from \"react-howler\"\r\nimport { Box, Container, makeStyles } from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles({\r\n\tmainSection: {\r\n\t\toverflowY: \"scroll\",\r\n\t},\r\n})\r\n\r\nconst TimerMain = ({ heightOfMainSection }) => {\r\n\tconst classes = useStyles()\r\n\r\n\tconst timerStatus = useSelector(selectTimerStatus)\r\n\tconst showCountdown = useSelector(selectShowCountdown)\r\n\tconst alarmPlayer = useRef(null)\r\n\r\n\tif (timerStatus === TimerStatus.RUNNING || showCountdown) {\r\n\t\treturn (\r\n\t\t\t<Container maxWidth=\"sm\" style={{ height: heightOfMainSection }}>\r\n\t\t\t\t<TimerCountdown alarmPlayer={alarmPlayer}></TimerCountdown>\r\n\t\t\t\t<ReactHowler\r\n\t\t\t\t\tsrc={timesUpSfx}\r\n\t\t\t\t\tplaying={false}\r\n\t\t\t\t\thtml5={true}\r\n\t\t\t\t\tref={alarmPlayer}\r\n\t\t\t\t/>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Box\r\n\t\t\t\tstyle={{ height: heightOfMainSection }}\r\n\t\t\t\tclassName={classes.mainSection}\r\n\t\t\t>\r\n\t\t\t\t<Container maxWidth=\"sm\">\r\n\t\t\t\t\t<TimerList />\r\n\t\t\t\t</Container>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default TimerMain\r\n","import { createSlice } from \"@reduxjs/toolkit\"\r\nimport {\r\n\tdefaultMinuteIfNotSaved,\r\n\tdefaultSecondIfNotSaved,\r\n} from \"../../services/timerService\"\r\nimport { loadSettingsState } from \"../../services/localStorage\"\r\n\r\nconst getInitialState = () => {\r\n\tconst loadedState = loadSettingsState()\r\n\r\n\tconst systemPrefersDark =\r\n\t\twindow.matchMedia &&\r\n\t\twindow.matchMedia(\"(prefers-color-scheme: dark)\").matches\r\n\r\n\tconst isDarkMode =\r\n\t\tloadedState && loadedState.darkMode !== null\r\n\t\t\t? loadedState.darkMode === true\r\n\t\t\t: systemPrefersDark\r\n\r\n\tlet state = {\r\n\t\tdarkMode: isDarkMode,\r\n\t\tdefaultTime: {\r\n\t\t\tminute: defaultMinuteIfNotSaved,\r\n\t\t\tsecond: defaultSecondIfNotSaved,\r\n\t\t},\r\n\t}\r\n\r\n\tif (loadedState && loadedState.darkMode !== null) {\r\n\t\t// darkMode\r\n\t\tstate = { ...state, darkMode: loadedState.darkMode }\r\n\t}\r\n\r\n\tif (loadedState && loadedState.defaultTime) {\r\n\t\t// default minute\r\n\t\tif (loadedState.defaultTime.minute !== null) {\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tdefaultTime: {\r\n\t\t\t\t\t...state.defaultTime,\r\n\t\t\t\t\tminute: loadedState.defaultTime.minute,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (loadedState.defaultTime.second !== null) {\r\n\t\t\t// default second\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tdefaultTime: {\r\n\t\t\t\t\t...state.defaultTime,\r\n\t\t\t\t\tsecond: loadedState.defaultTime.second,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn state\r\n}\r\n\r\nconst settingsSlice = createSlice({\r\n\tname: \"settings\",\r\n\tinitialState: getInitialState(),\r\n\treducers: {\r\n\t\ttoggleDarkMode(state) {\r\n\t\t\tstate.darkMode = !state.darkMode\r\n\t\t},\r\n\t\tsetDefaultTime(state, action) {\r\n\t\t\tconst { value, timeUnit } = action.payload\r\n\r\n\t\t\tif (timeUnit === \"minute\" || timeUnit === \"second\") {\r\n\t\t\t\tstate.defaultTime[timeUnit] = Number.isInteger(parseInt(value))\r\n\t\t\t\t\t? parseInt(value)\r\n\t\t\t\t\t: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport default settingsSlice.reducer\r\n\r\nexport const { toggleDarkMode, setDefaultTime } = settingsSlice.actions\r\n\r\nexport const selectIsDarkMode = (state) => state.settings.darkMode\r\n\r\nexport const selectDefaultMinute = (state) => state.settings.defaultTime.minute\r\nexport const selectDefaultSecond = (state) => state.settings.defaultTime.second\r\n","import React, { useEffect } from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport {\r\n\ttimerStatusUpdated,\r\n\tselectActiveTimerId,\r\n\ttimerSetNextTimer,\r\n\tselectTimerStatus,\r\n\ttimerResetTimers,\r\n\ttimerSetShowCountdown,\r\n\tselectTimerLoopTotalCount,\r\n\ttimerSetTotalLoop,\r\n\ttimerToggledMute,\r\n\tselectTimerIsMuted,\r\n\ttimerAdded,\r\n\tselectShowCountdown,\r\n} from \"../features/timers/timersSlice\"\r\nimport {\r\n\tselectDefaultMinute,\r\n\tselectDefaultSecond,\r\n} from \"../features/settings/settingsSlice\"\r\nimport TimerStatus from \"../features/timers/TimerStatus\"\r\n\r\nimport {\r\n\tButton,\r\n\tIconButton,\r\n\tBox,\r\n\tContainer,\r\n\tPaper,\r\n\tFormControl,\r\n\tmakeStyles,\r\n\tTextField,\r\n} from \"@material-ui/core\"\r\nimport VolumeOffRoundedIcon from \"@material-ui/icons/VolumeOffRounded\"\r\nimport VolumeUpRoundedIcon from \"@material-ui/icons/VolumeUpRounded\"\r\nimport AddCircleSharpIcon from \"@material-ui/icons/AddCircleSharp\"\r\nimport SettingsIcon from \"@material-ui/icons/Settings\"\r\n\r\nimport { createTimer } from \"../services/timerService\"\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tformControl: {\r\n\t\twidth: 125,\r\n\t},\r\n\tcontrolPanelContainer: {\r\n\t\tposition: \"relative\",\r\n\t\tpadding: theme.spacing(1),\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t},\r\n\t},\r\n\taddButton: {\r\n\t\tposition: \"absolute\",\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tzIndex: 2,\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tright: 50,\r\n\t\t},\r\n\t},\r\n\ttoolbar: {\r\n\t\tmarginTop: 16,\r\n\t},\r\n}))\r\n\r\nconst ControlPanel = ({ setHeightOfControlPanel, handleModalStatus }) => {\r\n\tconst classes = useStyles()\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst timerStatus = useSelector(selectTimerStatus)\r\n\tconst activeTimerId = useSelector(selectActiveTimerId)\r\n\tconst loopTotal = useSelector(selectTimerLoopTotalCount)\r\n\tconst isMuted = useSelector(selectTimerIsMuted)\r\n\tconst showCountdown = useSelector(selectShowCountdown)\r\n\tconst defaultMinute = useSelector(selectDefaultMinute)\r\n\tconst defaultSecond = useSelector(selectDefaultSecond)\r\n\r\n\tconst handleStart = () => {\r\n\t\tif (!activeTimerId) {\r\n\t\t\tdispatch(timerSetNextTimer())\r\n\t\t}\r\n\t\tconst newStatus =\r\n\t\t\ttimerStatus === TimerStatus.RUNNING\r\n\t\t\t\t? TimerStatus.PAUSED\r\n\t\t\t\t: TimerStatus.RUNNING\r\n\t\tdispatch(\r\n\t\t\ttimerStatusUpdated({\r\n\t\t\t\tstatus: newStatus,\r\n\t\t\t})\r\n\t\t)\r\n\t\tdispatch(timerSetShowCountdown({ showCountdown: true }))\r\n\t}\r\n\r\n\tconst handleReset = () => {\r\n\t\tdispatch(timerSetShowCountdown({ showCountdown: false }))\r\n\t\tdispatch(timerResetTimers())\r\n\t}\r\n\r\n\tconst handleToggleMusicMuted = () =>\r\n\t\tdispatch(timerToggledMute({ muteType: \"music\" }))\r\n\r\n\tconst handleLoopChanged = (e) => dispatch(timerSetTotalLoop(e.target.value))\r\n\r\n\tconst handleAddTimer = () =>\r\n\t\tdispatch(\r\n\t\t\ttimerAdded(createTimer({ minute: defaultMinute, second: defaultSecond }))\r\n\t\t)\r\n\r\n\t// get the height of control panel to render the height of main section\r\n\tuseEffect(() => {\r\n\t\tconst height = document.getElementById(\"control-panel\").clientHeight\r\n\t\tsetHeightOfControlPanel(height)\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Paper elevation={10} id=\"control-panel\">\r\n\t\t\t<Container maxWidth=\"md\" className={classes.controlPanelContainer}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\tonClick={handleAddTimer}\r\n\t\t\t\t\tdisabled={showCountdown}\r\n\t\t\t\t\tclassName={classes.addButton}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<AddCircleSharpIcon />\r\n\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\r\n\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={handleStart}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={showCountdown && timerStatus === TimerStatus.STOPPED}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{timerStatus === TimerStatus.RUNNING ? \"Pause\" : \"Start\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={handleReset}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tReset\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\tjustifyContent=\"space-around\"\r\n\t\t\t\t\tclassName={classes.toolbar}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"space-between\">\r\n\t\t\t\t\t\t<IconButton onClick={(e) => handleModalStatus(e, true)}>\r\n\t\t\t\t\t\t\t<SettingsIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t<IconButton onClick={handleToggleMusicMuted}>\r\n\t\t\t\t\t\t\t{isMuted ? <VolumeOffRoundedIcon /> : <VolumeUpRoundedIcon />}\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"loop\"\r\n\t\t\t\t\t\t\tlabel=\"No. of rounds\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tvalue={loopTotal}\r\n\t\t\t\t\t\t\tinputProps={{ inputMode: \"numeric\" }}\r\n\t\t\t\t\t\t\tonChange={handleLoopChanged}\r\n\t\t\t\t\t\t\tdisabled={showCountdown}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\tNumber.isNaN(parseInt(loopTotal)) || parseInt(loopTotal) < 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Box>\r\n\t\t\t</Container>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default ControlPanel\r\n","import React from \"react\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { selectTimerDelay, timerDelayUpdated } from \"../timers/timersSlice\"\r\nimport {\r\n\ttoggleDarkMode,\r\n\tsetDefaultTime,\r\n\tselectIsDarkMode,\r\n\tselectDefaultMinute,\r\n\tselectDefaultSecond,\r\n} from \"../settings/settingsSlice\"\r\nimport TimeInputField from \"../../components/TimeInputField\"\r\nimport {\r\n\tBox,\r\n\tDialog,\r\n\tDialogTitle,\r\n\tDialogContent,\r\n\tFormControl,\r\n\tFormControlLabel,\r\n\tGrid,\r\n\tInputLabel,\r\n\tSelect,\r\n\tSwitch,\r\n\tMenuItem,\r\n\tmakeStyles,\r\n\tTypography,\r\n} from \"@material-ui/core\"\r\nimport SettingsIcon from \"@material-ui/icons/Settings\"\r\n\r\nconst useStyles = makeStyles({\r\n\tformControl: {\r\n\t\twidth: 125,\r\n\t},\r\n})\r\n\r\nconst Settings = ({ open, handleOpen }) => {\r\n\tconst dispatch = useDispatch()\r\n\tconst classes = useStyles()\r\n\r\n\tconst delay = useSelector(selectTimerDelay)\r\n\tconst isDarkMode = useSelector(selectIsDarkMode)\r\n\tconst defaultMinute = useSelector(selectDefaultMinute)\r\n\tconst defaultSecond = useSelector(selectDefaultSecond)\r\n\r\n\tconst handleDarkModeToggle = () => dispatch(toggleDarkMode())\r\n\r\n\tconst handleDelayChange = (e) =>\r\n\t\tdispatch(timerDelayUpdated({ delay: e.target.value }))\r\n\r\n\tconst handleTimeChange = (params) => {\r\n\t\tconst {\r\n\t\t\tevent: {\r\n\t\t\t\ttarget: { value },\r\n\t\t\t},\r\n\t\t\ttimeUnit,\r\n\t\t} = params\r\n\r\n\t\tdispatch(setDefaultTime({ value, timeUnit }))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\tonClose={(e) => handleOpen(e, false)}\r\n\t\t\taria-labelledby=\"settings-dialog-title\"\r\n\t\t\topen={open}\r\n\t\t\tmaxWidth=\"sm\"\r\n\t\t\tfullWidth={true}\r\n\t\t>\r\n\t\t\t<DialogTitle id=\"settings-dialog-title\">\r\n\t\t\t\t<Box display=\"flex\" alignItems=\"center\">\r\n\t\t\t\t\t<SettingsIcon />\r\n\t\t\t\t\t<Typography component=\"span\" style={{ marginLeft: 10 }}>\r\n\t\t\t\t\t\tSettings\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</DialogTitle>\r\n\t\t\t<DialogContent style={{ paddingBottom: 16 }}>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t\t<InputLabel>Refresh rate</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tid=\"updateFreq\"\r\n\t\t\t\t\t\t\t\tvalue={delay}\r\n\t\t\t\t\t\t\t\tonChange={(e) => handleDelayChange(e)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MenuItem value={10}>10</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={100}>100</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={1000}>1000</MenuItem>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={isDarkMode ?? false}\r\n\t\t\t\t\t\t\t\t\tonChange={handleDarkModeToggle}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel=\"Dark Theme\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TimeInputField\r\n\t\t\t\t\t\t\tid=\"default-timer-minute\"\r\n\t\t\t\t\t\t\tlabel=\"Minute\"\r\n\t\t\t\t\t\t\thandleChange={handleTimeChange}\r\n\t\t\t\t\t\t\tvalue={defaultMinute}\r\n\t\t\t\t\t\t\ttimeUnit=\"minute\"\r\n\t\t\t\t\t\t\tstyles={{ marginTop: 20, marginRight: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TimeInputField\r\n\t\t\t\t\t\t\tid=\"default-timer-minute\"\r\n\t\t\t\t\t\t\tlabel=\"Second\"\r\n\t\t\t\t\t\t\thandleChange={handleTimeChange}\r\n\t\t\t\t\t\t\tvalue={defaultSecond}\r\n\t\t\t\t\t\t\ttimeUnit=\"second\"\r\n\t\t\t\t\t\t\tstyles={{ marginTop: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</DialogContent>\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Settings\r\n","export default __webpack_public_path__ + \"static/media/Muay_Thai_Sarama_ROUND_1.d86445b7.mp3\";","import React, { useEffect, useRef } from \"react\"\r\nimport TimerStatus from \"../features/timers/TimerStatus\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport {\r\n\tselectTimerStatus,\r\n\tselectTimerIsMuted,\r\n\tselectActiveTimerId,\r\n\tselectActiveTimerMusic,\r\n\ttimerStatusUpdated,\r\n} from \"../features/timers/timersSlice\"\r\nimport ReactHowler from \"react-howler\"\r\nimport muayThaiBgMusic from \"../audio/Muay_Thai_Sarama_ROUND_1.mp3\"\r\n\r\nconst MusicPlayer = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst timerStatus = useSelector(selectTimerStatus)\r\n\tconst isMuted = useSelector(selectTimerIsMuted)\r\n\tconst activeTimerId = useSelector(selectActiveTimerId)\r\n\tconst music = useSelector(selectActiveTimerMusic)\r\n\r\n\tconst musicPlayer = useRef(null)\r\n\r\n\tuseEffect(() => {\r\n\t\t// play the music from the beginning once timer is changed\r\n\t\tmusicPlayer.current.seek(0)\r\n\r\n\t\tif (activeTimerId) {\r\n\t\t\tdispatch(timerStatusUpdated({ status: TimerStatus.RUNNING }))\r\n\t\t}\r\n\t}, [activeTimerId, dispatch])\r\n\r\n\treturn (\r\n\t\t<ReactHowler\r\n\t\t\tsrc={muayThaiBgMusic}\r\n\t\t\tplaying={timerStatus === TimerStatus.RUNNING && music !== \"\"}\r\n\t\t\tmute={isMuted}\r\n\t\t\tref={musicPlayer}\r\n\t\t\tloop={true}\r\n\t\t\thtml5={true}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default MusicPlayer\r\n","import React, { useEffect, useState, useCallback } from \"react\"\r\nimport TimerMain from \"../features/timers/TimerMain\"\r\nimport ControlPanel from \"./ControlPanel\"\r\nimport Settings from \"../features/settings/Settings\"\r\nimport { Box, Paper, makeStyles } from \"@material-ui/core\"\r\nimport MusicPlayer from \"./MusicPlayer\"\r\n\r\nconst useStyles = makeStyles({\r\n\tapp: {\r\n\t\toverflow: \"hidden\",\r\n\t\theight: \"100%\",\r\n\t\tborderRadius: 0,\r\n\t},\r\n\tappBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tleft: 0,\r\n\t\tbottom: 0,\r\n\t\tborderRadius: \"5px 5px 0 0\",\r\n\t\tzIndex: 1100,\r\n\t\tboxSizing: \"border-box\",\r\n\t\twidth: \"100%\",\r\n\t},\r\n})\r\n\r\nconst TimerApp = () => {\r\n\tconst classes = useStyles()\r\n\tconst [heightOfControlPanel, setHeightOfControlPanel] = useState(0)\r\n\tconst [heightOfMainSection, setHeightOfMainSection] = useState(0)\r\n\tconst [modalIsOpen, openModal] = useState(false)\r\n\r\n\tconst setHeight = () => {\r\n\t\tconst heightOfMainSection = window.innerHeight - heightOfControlPanel\r\n\t\t// console.log(\"set height is called\", window.innerHeight, heightOfMainSection)\r\n\t\tsetHeightOfMainSection(heightOfMainSection)\r\n\t}\r\n\r\n\tconst handleModalStatus = (e, open) => {\r\n\t\tif (typeof open === \"boolean\") {\r\n\t\t\topenModal(open)\r\n\t\t}\r\n\t}\r\n\r\n\tuseCallback(setHeight, [heightOfControlPanel])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetHeight()\r\n\t\twindow.addEventListener(\"resize\", setHeight)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", setHeight)\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Paper elevation={0} className={`App ${classes.app}`}>\r\n\t\t\t<Box className={classes.mainSection}>\r\n\t\t\t\t<TimerMain heightOfMainSection={heightOfMainSection} />\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box className={classes.appBar}>\r\n\t\t\t\t<ControlPanel\r\n\t\t\t\t\tsetHeightOfControlPanel={setHeightOfControlPanel}\r\n\t\t\t\t\thandleModalStatus={handleModalStatus}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<MusicPlayer />\r\n\r\n\t\t\t<Settings open={modalIsOpen} handleOpen={handleModalStatus} />\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default TimerApp\r\n","import React from \"react\"\r\nimport \"./styles/App.scss\"\r\nimport TimerApp from \"./components/TimerApp\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { selectIsDarkMode } from \"./features/settings/settingsSlice\"\r\nimport { ThemeProvider } from \"@material-ui/core\"\r\nimport { unstable_createMuiStrictModeTheme as createMuiTheme } from \"@material-ui/core/styles\"\r\nimport blue from \"@material-ui/core/colors/blue\"\r\n\r\nconst App = () => {\r\n\tconst isDarkMode = useSelector(selectIsDarkMode)\r\n\r\n\tconst theme = React.useMemo(\r\n\t\t() =>\r\n\t\t\tcreateMuiTheme({\r\n\t\t\t\tpalette: {\r\n\t\t\t\t\tprimary: {\r\n\t\t\t\t\t\tmain: blue[500],\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: isDarkMode ? \"dark\" : \"light\",\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t[isDarkMode]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={theme}>\r\n\t\t\t<TimerApp />\r\n\t\t</ThemeProvider>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === \"localhost\" ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === \"[::1]\" ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"load\", () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\r\n\t\t\t\t\t\t\t\"worker. To learn more, visit https://cra.link/PWA\"\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\r\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See https://cra.link/PWA.\"\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\")\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error(\"Error during service worker registration:\", error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { \"Service-Worker\": \"script\" },\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get(\"content-type\")\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf(\"javascript\") === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then((registration) => {\r\n\t\t\t\tregistration.unregister()\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error.message)\r\n\t\t\t})\r\n\t}\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\"\r\nimport timersReducer from \"./features/timers/timersSlice\"\r\nimport settingsReducer from \"./features/settings/settingsSlice\"\r\nimport { saveState } from \"./services/localStorage\"\r\nimport { throttle } from \"lodash\"\r\n\r\nconst store = configureStore({\r\n\treducer: {\r\n\t\ttimers: timersReducer,\r\n\t\tsettings: settingsReducer,\r\n\t},\r\n})\r\n\r\nstore.subscribe(\r\n\t// throttle to save resources\r\n\tthrottle(() => {\r\n\t\tsaveState({\r\n\t\t\ttimers: store.getState().timers,\r\n\t\t\tsettings: store.getState().settings,\r\n\t\t})\r\n\t}, 1000)\r\n)\r\n\r\nexport default store\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\"\r\nimport reportWebVitals from \"./reportWebVitals\"\r\n\r\nimport store from \"./store\"\r\nimport { Provider } from \"react-redux\"\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register()\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}